<!DOCTYPE html>
<html>


<head>
<meta charset="utf-8">
<title>Sample script for uploading file to Google Drive without authorization</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.js"></script>
<style>
/* Page background */
body {
background-color: #e0e0e0; /* light grey */
font-family: Arial, Helvetica, sans-serif;
margin: 20px;
}


/* Make the form area look a bit nicer */
form {
background: #ffffff;
padding: 16px;
border-radius: 8px;
box-shadow: 0 2px 6px rgba(0,0,0,0.08);
max-width: 600px;
}


/* Orange submit button */
input[type="submit"] {
background-color: orange;
color: white;
border: none;
padding: 8px 14px;
border-radius: 4px;
font-size: 14px;
cursor: pointer;
}


input[type="submit"]:hover {
filter: brightness(0.95);
}


/* Optional: style the file input a little */
input[type="file"] {
margin-top: 8px;
margin-bottom: 12px;
}
</style>
</head>


<body>
<form action="https://script.google.com/macros/s/AKfycby9u2jAs9pN_YtxO4wL3wXob26RCI99P0HmX0e-qNxlewMB2nvKRIBaiUXU0eFG-g1S/exec" id="form" method="post">
<label for="uploadfile">Upload a file</label>
<div id="data"></div>
<input name="file" id="uploadfile" type="file">
<input id="submit" type="submit" value="Upload">
</form>


<script>
$('#uploadfile').on("change", function() {
var file = this.files[0];
var fr = new FileReader();
fr.fileName = file.name;
fr.onload = function(e) {
e.target.result
html = '<input type="hidden" name="data" value="' + e.target.result.replace(/^.*,/, '') + '" >';
html += '<input type="hidden" name="mimetype" value="' + e.target.result.match(/^.*(?=;)/)[0] + '" >';
html += '<input type="hidden" name="filename" value="' + e.target.fileName + '" >';
$("#data").empty().append(html);
}
fr.readAsDataURL(file);
});
</script>
</body>


</html>
